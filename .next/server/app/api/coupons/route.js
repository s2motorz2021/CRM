/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/coupons/route";
exports.ids = ["app/api/coupons/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcoupons%2Froute&page=%2Fapi%2Fcoupons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcoupons%2Froute.js&appDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcoupons%2Froute&page=%2Fapi%2Fcoupons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcoupons%2Froute.js&appDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_user_Desktop_S2_Motorz_CRM_src_app_api_coupons_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/coupons/route.js */ \"(rsc)/./src/app/api/coupons/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/coupons/route\",\n        pathname: \"/api/coupons\",\n        filename: \"route\",\n        bundlePath: \"app/api/coupons/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\user\\\\Desktop\\\\S2_Motorz_CRM\\\\src\\\\app\\\\api\\\\coupons\\\\route.js\",\n    nextConfigOutput,\n    userland: C_Users_user_Desktop_S2_Motorz_CRM_src_app_api_coupons_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZjb3Vwb25zJTJGcm91dGUmcGFnZT0lMkZhcGklMkZjb3Vwb25zJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGY291cG9ucyUyRnJvdXRlLmpzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUN1c2VyJTVDRGVza3RvcCU1Q1MyX01vdG9yel9DUk0lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q3VzZXIlNUNEZXNrdG9wJTVDUzJfTW90b3J6X0NSTSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDeUI7QUFDdEc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7O0FBRTFGIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXHVzZXJcXFxcRGVza3RvcFxcXFxTMl9Nb3RvcnpfQ1JNXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGNvdXBvbnNcXFxccm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvdXBvbnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9jb3Vwb25zXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jb3Vwb25zL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcdXNlclxcXFxEZXNrdG9wXFxcXFMyX01vdG9yel9DUk1cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcY291cG9uc1xcXFxyb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcoupons%2Froute&page=%2Fapi%2Fcoupons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcoupons%2Froute.js&appDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/coupons/route.js":
/*!**************************************!*\
  !*** ./src/app/api/coupons/route.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   PATCH: () => (/* binding */ PATCH),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.js\");\n/* harmony import */ var _models_Coupon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Coupon */ \"(rsc)/./src/models/Coupon.js\");\n\n\n\nasync function GET(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const status = searchParams.get('status');\n        const includeAll = searchParams.get('all') === 'true';\n        // Auto-expire check for all coupons\n        await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].updateMany({\n            expiryDate: {\n                $lt: new Date()\n            },\n            status: 'active'\n        }, {\n            $set: {\n                status: 'expired',\n                isActive: false\n            }\n        });\n        let query = {};\n        if (!includeAll) {\n            query.isActive = true;\n        }\n        if (status) {\n            query.status = status;\n        }\n        const coupons = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(query).sort({\n            createdAt: -1\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(coupons);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const data = await request.json();\n        // Validate unique code for new coupons\n        if (!data._id) {\n            const existing = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n                code: data.code.toUpperCase()\n            });\n            if (existing) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'Coupon code already exists'\n                }, {\n                    status: 400\n                });\n            }\n        }\n        // Validate percentage range\n        if (data.type === 'percent' && (data.value < 1 || data.value > 100)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Percentage must be between 1-100'\n            }, {\n                status: 400\n            });\n        }\n        let coupon;\n        if (data._id) {\n            // Update existing coupon\n            const existing = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(data._id);\n            if (!existing) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'Coupon not found'\n                }, {\n                    status: 404\n                });\n            }\n            // Add audit log entry\n            const auditEntry = {\n                action: 'edited',\n                userName: data.updatedByName || 'System',\n                details: `Updated coupon fields`,\n                timestamp: new Date()\n            };\n            coupon = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndUpdate(data._id, {\n                ...data,\n                $push: {\n                    auditLog: auditEntry\n                }\n            }, {\n                new: true\n            });\n        } else {\n            // Create new coupon with audit log\n            data.auditLog = [\n                {\n                    action: 'created',\n                    userName: data.createdByName || 'System',\n                    details: `Created coupon: ${data.code}`,\n                    timestamp: new Date()\n                }\n            ];\n            coupon = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].create(data);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(coupon);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PATCH(request) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const data = await request.json();\n        const { _id, action, userName } = data;\n        if (!_id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Coupon ID required'\n            }, {\n                status: 400\n            });\n        }\n        const coupon = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findById(_id);\n        if (!coupon) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Coupon not found'\n            }, {\n                status: 404\n            });\n        }\n        let updateData = {};\n        let auditEntry = {\n            userName: userName || 'System',\n            timestamp: new Date()\n        };\n        if (action === 'disable') {\n            updateData = {\n                status: 'disabled',\n                isActive: false\n            };\n            auditEntry.action = 'disabled';\n            auditEntry.details = 'Coupon disabled manually';\n        } else if (action === 'enable') {\n            // Check if not expired\n            if (new Date(coupon.expiryDate) < new Date()) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    error: 'Cannot enable expired coupon'\n                }, {\n                    status: 400\n                });\n            }\n            updateData = {\n                status: 'active',\n                isActive: true\n            };\n            auditEntry.action = 'enabled';\n            auditEntry.details = 'Coupon enabled';\n        } else if (action === 'apply') {\n            // Track usage\n            updateData = {\n                $inc: {\n                    usageCount: 1\n                }\n            };\n            auditEntry.action = 'applied';\n            auditEntry.details = data.invoiceNo ? `Applied to invoice ${data.invoiceNo}` : 'Applied to invoice';\n        }\n        const updated = await _models_Coupon__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findByIdAndUpdate(_id, {\n            ...updateData,\n            $push: {\n                auditLog: auditEntry\n            }\n        }, {\n            new: true\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(updated);\n    } catch (error) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVO1lBQU07WUFDbkRvQixXQUFXQyxNQUFNLEdBQUc7WUFDcEJELFdBQVdJLE9BQU8sR0FBRztRQUN6QixPQUFPLElBQUlILFdBQVcsVUFBVTtZQUM1Qix1QkFBdUI7WUFDdkIsSUFBSSxJQUFJdkIsS0FBS29CLE9BQU90QixVQUFVLElBQUksSUFBSUUsUUFBUTtnQkFDMUMsT0FBT2QscURBQVlBLENBQUNzQixJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQStCLEdBQUc7b0JBQUVmLFFBQVE7Z0JBQUk7WUFDdEY7WUFDQXlDLGFBQWE7Z0JBQUV6QyxRQUFRO2dCQUFVUSxVQUFVO1lBQUs7WUFDaERvQixXQUFXQyxNQUFNLEdBQUc7WUFDcEJELFdBQVdJLE9BQU8sR0FBRztRQUN6QixPQUFPLElBQUlILFdBQVcsU0FBUztZQUMzQixjQUFjO1lBQ2RZLGFBQWE7Z0JBQUVDLE1BQU07b0JBQUVDLFlBQVk7Z0JBQUU7WUFBRTtZQUN2Q2YsV0FBV0MsTUFBTSxHQUFHO1lBQ3BCRCxXQUFXSSxPQUFPLEdBQUdkLEtBQUswQixTQUFTLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTFCLEtBQUswQixTQUFTLEVBQUUsR0FBRztRQUNuRjtRQUVBLE1BQU1DLFVBQVUsTUFBTW5ELHNEQUFNQSxDQUFDd0MsaUJBQWlCLENBQzFDZixLQUNBO1lBQUUsR0FBR3NCLFVBQVU7WUFBRU4sT0FBTztnQkFBRUMsVUFBVVI7WUFBVztRQUFFLEdBQ2pEO1lBQUVTLEtBQUs7UUFBSztRQUdoQixPQUFPN0MscURBQVlBLENBQUNzQixJQUFJLENBQUMrQjtJQUM3QixFQUFFLE9BQU85QixPQUFPO1FBQ1osT0FBT3ZCLHFEQUFZQSxDQUFDc0IsSUFBSSxDQUFDO1lBQUVDLE9BQU9BLE1BQU1DLE9BQU87UUFBQyxHQUFHO1lBQUVoQixRQUFRO1FBQUk7SUFDckU7QUFDSiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx1c2VyXFxEZXNrdG9wXFxTMl9Nb3RvcnpfQ1JNXFxzcmNcXGFwcFxcYXBpXFxjb3Vwb25zXFxyb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYic7XHJcbmltcG9ydCBDb3Vwb24gZnJvbSAnQC9tb2RlbHMvQ291cG9uJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gc2VhcmNoUGFyYW1zLmdldCgnc3RhdHVzJyk7XHJcbiAgICAgICAgY29uc3QgaW5jbHVkZUFsbCA9IHNlYXJjaFBhcmFtcy5nZXQoJ2FsbCcpID09PSAndHJ1ZSc7XHJcblxyXG4gICAgICAgIC8vIEF1dG8tZXhwaXJlIGNoZWNrIGZvciBhbGwgY291cG9uc1xyXG4gICAgICAgIGF3YWl0IENvdXBvbi51cGRhdGVNYW55KFxyXG4gICAgICAgICAgICB7IGV4cGlyeURhdGU6IHsgJGx0OiBuZXcgRGF0ZSgpIH0sIHN0YXR1czogJ2FjdGl2ZScgfSxcclxuICAgICAgICAgICAgeyAkc2V0OiB7IHN0YXR1czogJ2V4cGlyZWQnLCBpc0FjdGl2ZTogZmFsc2UgfSB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgbGV0IHF1ZXJ5ID0ge307XHJcbiAgICAgICAgaWYgKCFpbmNsdWRlQWxsKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5LmlzQWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgICBxdWVyeS5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb3Vwb25zID0gYXdhaXQgQ291cG9uLmZpbmQocXVlcnkpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihjb3Vwb25zKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHVuaXF1ZSBjb2RlIGZvciBuZXcgY291cG9uc1xyXG4gICAgICAgIGlmICghZGF0YS5faWQpIHtcclxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSBhd2FpdCBDb3Vwb24uZmluZE9uZSh7IGNvZGU6IGRhdGEuY29kZS50b1VwcGVyQ2FzZSgpIH0pO1xyXG4gICAgICAgICAgICBpZiAoZXhpc3RpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ291cG9uIGNvZGUgYWxyZWFkeSBleGlzdHMnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZhbGlkYXRlIHBlcmNlbnRhZ2UgcmFuZ2VcclxuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAncGVyY2VudCcgJiYgKGRhdGEudmFsdWUgPCAxIHx8IGRhdGEudmFsdWUgPiAxMDApKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUGVyY2VudGFnZSBtdXN0IGJlIGJldHdlZW4gMS0xMDAnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY291cG9uO1xyXG4gICAgICAgIGlmIChkYXRhLl9pZCkge1xyXG4gICAgICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgY291cG9uXHJcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gYXdhaXQgQ291cG9uLmZpbmRCeUlkKGRhdGEuX2lkKTtcclxuICAgICAgICAgICAgaWYgKCFleGlzdGluZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDb3Vwb24gbm90IGZvdW5kJyB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgYXVkaXQgbG9nIGVudHJ5XHJcbiAgICAgICAgICAgIGNvbnN0IGF1ZGl0RW50cnkgPSB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246ICdlZGl0ZWQnLFxyXG4gICAgICAgICAgICAgICAgdXNlck5hbWU6IGRhdGEudXBkYXRlZEJ5TmFtZSB8fCAnU3lzdGVtJyxcclxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBVcGRhdGVkIGNvdXBvbiBmaWVsZHNgLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb3Vwb24gPSBhd2FpdCBDb3Vwb24uZmluZEJ5SWRBbmRVcGRhdGUoXHJcbiAgICAgICAgICAgICAgICBkYXRhLl9pZCxcclxuICAgICAgICAgICAgICAgIHsgLi4uZGF0YSwgJHB1c2g6IHsgYXVkaXRMb2c6IGF1ZGl0RW50cnkgfSB9LFxyXG4gICAgICAgICAgICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgY291cG9uIHdpdGggYXVkaXQgbG9nXHJcbiAgICAgICAgICAgIGRhdGEuYXVkaXRMb2cgPSBbe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnY3JlYXRlZCcsXHJcbiAgICAgICAgICAgICAgICB1c2VyTmFtZTogZGF0YS5jcmVhdGVkQnlOYW1lIHx8ICdTeXN0ZW0nLFxyXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYENyZWF0ZWQgY291cG9uOiAke2RhdGEuY29kZX1gLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgIH1dO1xyXG4gICAgICAgICAgICBjb3Vwb24gPSBhd2FpdCBDb3Vwb24uY3JlYXRlKGRhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGNvdXBvbik7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvci5tZXNzYWdlIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQQVRDSChyZXF1ZXN0KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgICAgICBjb25zdCB7IF9pZCwgYWN0aW9uLCB1c2VyTmFtZSB9ID0gZGF0YTtcclxuXHJcbiAgICAgICAgaWYgKCFfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdDb3Vwb24gSUQgcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb3Vwb24gPSBhd2FpdCBDb3Vwb24uZmluZEJ5SWQoX2lkKTtcclxuICAgICAgICBpZiAoIWNvdXBvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0NvdXBvbiBub3QgZm91bmQnIH0sIHsgc3RhdHVzOiA0MDQgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXBkYXRlRGF0YSA9IHt9O1xyXG4gICAgICAgIGxldCBhdWRpdEVudHJ5ID0geyB1c2VyTmFtZTogdXNlck5hbWUgfHwgJ1N5c3RlbScsIHRpbWVzdGFtcDogbmV3IERhdGUoKSB9O1xyXG5cclxuICAgICAgICBpZiAoYWN0aW9uID09PSAnZGlzYWJsZScpIHtcclxuICAgICAgICAgICAgdXBkYXRlRGF0YSA9IHsgc3RhdHVzOiAnZGlzYWJsZWQnLCBpc0FjdGl2ZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgYXVkaXRFbnRyeS5hY3Rpb24gPSAnZGlzYWJsZWQnO1xyXG4gICAgICAgICAgICBhdWRpdEVudHJ5LmRldGFpbHMgPSAnQ291cG9uIGRpc2FibGVkIG1hbnVhbGx5JztcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2VuYWJsZScpIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgbm90IGV4cGlyZWRcclxuICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGNvdXBvbi5leHBpcnlEYXRlKSA8IG5ldyBEYXRlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQ2Fubm90IGVuYWJsZSBleHBpcmVkIGNvdXBvbicgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cGRhdGVEYXRhID0geyBzdGF0dXM6ICdhY3RpdmUnLCBpc0FjdGl2ZTogdHJ1ZSB9O1xyXG4gICAgICAgICAgICBhdWRpdEVudHJ5LmFjdGlvbiA9ICdlbmFibGVkJztcclxuICAgICAgICAgICAgYXVkaXRFbnRyeS5kZXRhaWxzID0gJ0NvdXBvbiBlbmFibGVkJztcclxuICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2FwcGx5Jykge1xyXG4gICAgICAgICAgICAvLyBUcmFjayB1c2FnZVxyXG4gICAgICAgICAgICB1cGRhdGVEYXRhID0geyAkaW5jOiB7IHVzYWdlQ291bnQ6IDEgfSB9O1xyXG4gICAgICAgICAgICBhdWRpdEVudHJ5LmFjdGlvbiA9ICdhcHBsaWVkJztcclxuICAgICAgICAgICAgYXVkaXRFbnRyeS5kZXRhaWxzID0gZGF0YS5pbnZvaWNlTm8gPyBgQXBwbGllZCB0byBpbnZvaWNlICR7ZGF0YS5pbnZvaWNlTm99YCA6ICdBcHBsaWVkIHRvIGludm9pY2UnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IENvdXBvbi5maW5kQnlJZEFuZFVwZGF0ZShcclxuICAgICAgICAgICAgX2lkLFxyXG4gICAgICAgICAgICB7IC4uLnVwZGF0ZURhdGEsICRwdXNoOiB7IGF1ZGl0TG9nOiBhdWRpdEVudHJ5IH0gfSxcclxuICAgICAgICAgICAgeyBuZXc6IHRydWUgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih1cGRhdGVkKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZGJDb25uZWN0IiwiQ291cG9uIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsInN0YXR1cyIsImdldCIsImluY2x1ZGVBbGwiLCJ1cGRhdGVNYW55IiwiZXhwaXJ5RGF0ZSIsIiRsdCIsIkRhdGUiLCIkc2V0IiwiaXNBY3RpdmUiLCJxdWVyeSIsImNvdXBvbnMiLCJmaW5kIiwic29ydCIsImNyZWF0ZWRBdCIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJQT1NUIiwiZGF0YSIsIl9pZCIsImV4aXN0aW5nIiwiZmluZE9uZSIsImNvZGUiLCJ0b1VwcGVyQ2FzZSIsInR5cGUiLCJ2YWx1ZSIsImNvdXBvbiIsImZpbmRCeUlkIiwiYXVkaXRFbnRyeSIsImFjdGlvbiIsInVzZXJOYW1lIiwidXBkYXRlZEJ5TmFtZSIsImRldGFpbHMiLCJ0aW1lc3RhbXAiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIiRwdXNoIiwiYXVkaXRMb2ciLCJuZXciLCJjcmVhdGVkQnlOYW1lIiwiY3JlYXRlIiwiUEFUQ0giLCJ1cGRhdGVEYXRhIiwiJGluYyIsInVzYWdlQ291bnQiLCJpbnZvaWNlTm8iLCJ1cGRhdGVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/coupons/route.js\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.js":
/*!****************************!*\
  !*** ./src/lib/mongodb.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nconsole.log('Connecting to MongoDB at:', MONGODB_URI);\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections from growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUMzQ0csUUFBUUMsR0FBRyxDQUFDLDZCQUE2Qko7QUFFekMsSUFBSSxDQUFDQSxhQUFhO0lBQ2QsTUFBTSxJQUFJSyxNQUFNO0FBQ3BCO0FBRUE7Ozs7Q0FJQyxHQUNELElBQUlDLFNBQVNDLE9BQU9SLFFBQVE7QUFFNUIsSUFBSSxDQUFDTyxRQUFRO0lBQ1RBLFNBQVNDLE9BQU9SLFFBQVEsR0FBRztRQUFFUyxNQUFNO1FBQU1DLFNBQVM7SUFBSztBQUMzRDtBQUVBLGVBQWVDO0lBQ1gsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2IsT0FBT0YsT0FBT0UsSUFBSTtJQUN0QjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ2pCLE1BQU1FLE9BQU87WUFDVEMsZ0JBQWdCO1FBQ3BCO1FBRUFOLE9BQU9HLE9BQU8sR0FBR1YsdURBQWdCLENBQUNDLGFBQWFXLE1BQU1HLElBQUksQ0FBQyxDQUFDZjtZQUN2RCxPQUFPQTtRQUNYO0lBQ0o7SUFFQSxJQUFJO1FBQ0FPLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3RDLEVBQUUsT0FBT00sR0FBRztRQUNSVCxPQUFPRyxPQUFPLEdBQUc7UUFDakIsTUFBTU07SUFDVjtJQUVBLE9BQU9ULE9BQU9FLElBQUk7QUFDdEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFx1c2VyXFxEZXNrdG9wXFxTMl9Nb3RvcnpfQ1JNXFxzcmNcXGxpYlxcbW9uZ29kYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuY29uc29sZS5sb2coJ0Nvbm5lY3RpbmcgdG8gTW9uZ29EQiBhdDonLCBNT05HT0RCX1VSSSk7XHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsZWFzZSBkZWZpbmUgdGhlIE1PTkdPREJfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgaXMgdXNlZCBoZXJlIHRvIG1haW50YWluIGEgY2FjaGVkIGNvbm5lY3Rpb24gYWNyb3NzIGhvdCByZWxvYWRzXHJcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGZyb20gZ3Jvd2luZyBleHBvbmVudGlhbGx5XHJcbiAqIGR1cmluZyBBUEkgUm91dGUgdXNhZ2UuXHJcbiAqL1xyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICAgIGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZSA9IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgICAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb25nb29zZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNhY2hlZC5jb25uID0gYXdhaXQgY2FjaGVkLnByb21pc2U7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgICAgIHRocm93IGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iLCJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./src/models/Coupon.js":
/*!******************************!*\
  !*** ./src/models/Coupon.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CouponSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    // Basic Info\n    campaignName: {\n        type: String,\n        required: true\n    },\n    code: {\n        type: String,\n        required: true,\n        unique: true,\n        uppercase: true\n    },\n    description: {\n        type: String,\n        default: ''\n    },\n    // Discount Details\n    type: {\n        type: String,\n        enum: [\n            'percent',\n            'flat'\n        ],\n        required: true\n    },\n    value: {\n        type: Number,\n        required: true,\n        min: 1\n    },\n    maxDiscount: {\n        type: Number\n    },\n    minOrder: {\n        type: Number,\n        default: 0\n    },\n    // Validity\n    startDate: {\n        type: Date,\n        default: Date.now\n    },\n    expiryDate: {\n        type: Date,\n        required: true\n    },\n    // Applicability\n    applicability: {\n        type: String,\n        enum: [\n            'full_bill',\n            'labour_only',\n            'spare_only'\n        ],\n        default: 'full_bill'\n    },\n    // Display\n    themeColor: {\n        type: String,\n        default: '#00B8D4'\n    },\n    // Status & Limits\n    status: {\n        type: String,\n        enum: [\n            'active',\n            'expired',\n            'disabled'\n        ],\n        default: 'active'\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    usageLimit: {\n        type: Number,\n        default: 0\n    },\n    usageCount: {\n        type: Number,\n        default: 0\n    },\n    // Audit\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'Staff'\n    },\n    createdByName: String,\n    auditLog: [\n        {\n            action: {\n                type: String,\n                enum: [\n                    'created',\n                    'edited',\n                    'applied',\n                    'disabled',\n                    'enabled'\n                ]\n            },\n            userId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: 'Staff'\n            },\n            userName: String,\n            details: String,\n            timestamp: {\n                type: Date,\n                default: Date.now\n            }\n        }\n    ]\n}, {\n    timestamps: true\n});\n// Pre-save hook to auto-uppercase code and check expiry\nCouponSchema.pre('save', function(next) {\n    this.code = this.code.toUpperCase();\n    // Auto-expire check\n    if (this.expiryDate && new Date(this.expiryDate) < new Date()) {\n        this.status = 'expired';\n        this.isActive = false;\n    }\n    next();\n});\n// Validate discount value\nCouponSchema.pre('save', function(next) {\n    if (this.type === 'percent' && (this.value < 1 || this.value > 100)) {\n        return next(new Error('Percentage discount must be between 1-100'));\n    }\n    next();\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Coupon || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Coupon', CouponSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWMsQ0FBQyxVQUFVQyxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHVzZXJcXERlc2t0b3BcXFMyX01vdG9yel9DUk1cXHNyY1xcbW9kZWxzXFxDb3Vwb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IENvdXBvblNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gICAgLy8gQmFzaWMgSW5mb1xyXG4gICAgY2FtcGFpZ25OYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIGNvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCB1cHBlcmNhc2U6IHRydWUgfSxcclxuICAgIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcclxuXHJcbiAgICAvLyBEaXNjb3VudCBEZXRhaWxzXHJcbiAgICB0eXBlOiB7IHR5cGU6IFN0cmluZywgZW51bTogWydwZXJjZW50JywgJ2ZsYXQnXSwgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgIHZhbHVlOiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUsIG1pbjogMSB9LFxyXG4gICAgbWF4RGlzY291bnQ6IHsgdHlwZTogTnVtYmVyIH0sIC8vIE1heCBjYXAgZm9yIHBlcmNlbnRhZ2UgZGlzY291bnRzXHJcbiAgICBtaW5PcmRlcjogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSwgLy8gTWluaW11bSBwdXJjaGFzZSBhbW91bnRcclxuXHJcbiAgICAvLyBWYWxpZGl0eVxyXG4gICAgc3RhcnREYXRlOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbiAgICBleHBpcnlEYXRlOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXHJcblxyXG4gICAgLy8gQXBwbGljYWJpbGl0eVxyXG4gICAgYXBwbGljYWJpbGl0eToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBlbnVtOiBbJ2Z1bGxfYmlsbCcsICdsYWJvdXJfb25seScsICdzcGFyZV9vbmx5J10sXHJcbiAgICAgICAgZGVmYXVsdDogJ2Z1bGxfYmlsbCdcclxuICAgIH0sXHJcblxyXG4gICAgLy8gRGlzcGxheVxyXG4gICAgdGhlbWVDb2xvcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcjMDBCOEQ0JyB9LFxyXG5cclxuICAgIC8vIFN0YXR1cyAmIExpbWl0c1xyXG4gICAgc3RhdHVzOiB7IHR5cGU6IFN0cmluZywgZW51bTogWydhY3RpdmUnLCAnZXhwaXJlZCcsICdkaXNhYmxlZCddLCBkZWZhdWx0OiAnYWN0aXZlJyB9LFxyXG4gICAgaXNBY3RpdmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LFxyXG4gICAgdXNhZ2VMaW1pdDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSwgLy8gMCA9IHVubGltaXRlZFxyXG4gICAgdXNhZ2VDb3VudDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuXHJcbiAgICAvLyBBdWRpdFxyXG4gICAgY3JlYXRlZEJ5OiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnU3RhZmYnIH0sXHJcbiAgICBjcmVhdGVkQnlOYW1lOiBTdHJpbmcsXHJcbiAgICBhdWRpdExvZzogW3tcclxuICAgICAgICBhY3Rpb246IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ2NyZWF0ZWQnLCAnZWRpdGVkJywgJ2FwcGxpZWQnLCAnZGlzYWJsZWQnLCAnZW5hYmxlZCddIH0sXHJcbiAgICAgICAgdXNlcklkOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnU3RhZmYnIH0sXHJcbiAgICAgICAgdXNlck5hbWU6IFN0cmluZyxcclxuICAgICAgICBkZXRhaWxzOiBTdHJpbmcsXHJcbiAgICAgICAgdGltZXN0YW1wOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH1cclxuICAgIH1dXHJcbn0sIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbn0pO1xyXG5cclxuLy8gUHJlLXNhdmUgaG9vayB0byBhdXRvLXVwcGVyY2FzZSBjb2RlIGFuZCBjaGVjayBleHBpcnlcclxuQ291cG9uU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICB0aGlzLmNvZGUgPSB0aGlzLmNvZGUudG9VcHBlckNhc2UoKTtcclxuXHJcbiAgICAvLyBBdXRvLWV4cGlyZSBjaGVja1xyXG4gICAgaWYgKHRoaXMuZXhwaXJ5RGF0ZSAmJiBuZXcgRGF0ZSh0aGlzLmV4cGlyeURhdGUpIDwgbmV3IERhdGUoKSkge1xyXG4gICAgICAgIHRoaXMuc3RhdHVzID0gJ2V4cGlyZWQnO1xyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0KCk7XHJcbn0pO1xyXG5cclxuLy8gVmFsaWRhdGUgZGlzY291bnQgdmFsdWVcclxuQ291cG9uU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XHJcbiAgICBpZiAodGhpcy50eXBlID09PSAncGVyY2VudCcgJiYgKHRoaXMudmFsdWUgPCAxIHx8IHRoaXMudmFsdWUgPiAxMDApKSB7XHJcbiAgICAgICAgcmV0dXJuIG5leHQobmV3IEVycm9yKCdQZXJjZW50YWdlIGRpc2NvdW50IG11c3QgYmUgYmV0d2VlbiAxLTEwMCcpKTtcclxuICAgIH1cclxuICAgIG5leHQoKTtcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuQ291cG9uIHx8IG1vbmdvb3NlLm1vZGVsKCdDb3Vwb24nLCBDb3Vwb25TY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJDb3Vwb25TY2hlbWEiLCJTY2hlbWEiLCJjYW1wYWlnbk5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJjb2RlIiwidW5pcXVlIiwidXBwZXJjYXNlIiwiZGVzY3JpcHRpb24iLCJkZWZhdWx0IiwiZW51bSIsInZhbHVlIiwiTnVtYmVyIiwibWluIiwibWF4RGlzY291bnQiLCJtaW5PcmRlciIsInN0YXJ0RGF0ZSIsIkRhdGUiLCJub3ciLCJleHBpcnlEYXRlIiwiYXBwbGljYWJpbGl0eSIsInRoZW1lQ29sb3IiLCJzdGF0dXMiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJ1c2FnZUxpbWl0IiwidXNhZ2VDb3VudCIsImNyZWF0ZWRCeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJjcmVhdGVkQnlOYW1lIiwiYXVkaXRMb2ciLCJhY3Rpb24iLCJ1c2VySWQiLCJ1c2VyTmFtZSIsImRldGFpbHMiLCJ0aW1lc3RhbXAiLCJ0aW1lc3RhbXBzIiwicHJlIiwibmV4dCIsInRvVXBwZXJDYXNlIiwiRXJyb3IiLCJtb2RlbHMiLCJDb3Vwb24iLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Coupon.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fcoupons%2Froute&page=%2Fapi%2Fcoupons%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcoupons%2Froute.js&appDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cuser%5CDesktop%5CS2_Motorz_CRM&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();